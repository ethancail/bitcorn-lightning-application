# Docker Compose configuration for bitcorn-lightning-application
# TODO: Add service definitions for API and web components
services:
  api:
    build: ./app/api
    volumes:
      - ${APP_DATA_DIR:-./data}:/data
      - ./scripts:/scripts:ro
      - ${APP_LIGHTNING_NODE_DATA_DIR:-/dev/null}:/lnd:ro
    environment:
      BITCOIN_NETWORK: ${BITCOIN_NETWORK:-mainnet}
      LND_GRPC_HOST: ${LND_GRPC_HOST:-lightning_lnd_1:10009}

  web:
    build: ./app/web
    depends_on:
      - api
networks:
  umbrel:
    external: true
    name: umbrel_main_network